#+Title: Implementation of automating the cluster creation
#+Author: Systems Team
#+SETUPFILE: ../org-templates/level-1.org
#+TAGS: boilerplate(b)
#+EXCLUDE_TAGS: boilerplate
#+OPTIONS: ^:nil

* Introduction
  This document contains the implementation of automation of cluster
  creation.
* Implementation
** Automate Base machine setup
*** base-setup role   
#+BEGIN_SRC yml :tangle roles/basesetup/eth0.yml
---
   
   - copy: 
      content: ""      
      dest: "/etc/sysconfig/network-scripts/ifcfg-eth0" 
  
   - name: creating
     blockinfile:
        path: /etc/sysconfig/network-scripts/ifcfg-eth0
        block: |
         DEVICE=eth0
         TYPE=Ethernet
         ONBOOT=yes
         NM_CONTROLLED=no
         BOOTPROTO=none
         BRIDGE=br0
          

...
    
#+END_SRC
#+BEGIN_SRC 
---
   
   - copy:  
       content: ""      
       dest: "/etc/sysconfig/network-scripts/ifcfg-br0"
   
      
   - name: creating br0 bridge
     blockinfile:
        path: /etc/sysconfig/network-scripts/ifcfg-br0
        block: |
         DEVICE=br0
         BOOTPROTO=static
         ONBOOT=yes
         TYPE=Bridge
         NM_CONTROLLED=no
         IPADDR=10.2.59.220
         NETMASK=255.255.252.0
         GATEWAY=10.2.56.1
         DNS1=10.4.12.160
         DNS2=10.4.12.220
          

...



#+END_SRC
#+BEGIN_SRC 
---


   
   - copy: 
      content: ""      
      dest: "/etc/sysconfig/network-scripts/ifcfg-br1"
      
   - name: creating Br1 file
     blockinfile:
        path: /etc/sysconfig/network-scripts/ifcfg-br1
        block: |
         DEVICE=br1
         TYPE=Bridge
         ONBOOT=yes
         NM_CONTROLLED=no
         BOOTPROTO=none


...


#+END_SRC
#+BEGIN_SRC 

#+END_SRC

** Automate OpenVZ setup
*** openvz role
** Automate Cluster nodes/servers creation
*** nodes role 
** Automate Router node configuration
*** Router role
** Automate Config-server node configuration
*** config-server role
** Automate DNS servers node configuration
*** dns role
** Automate Reverse proxy node configuration
*** reverse-proxy role
** Automate nagios node configuration
*** nagios role
** Automate ADS setup
*** ads role
** Automate rsnapshot node configuration
*** rsnapshot role

  

